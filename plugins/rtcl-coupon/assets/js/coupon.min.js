!function(n){"use strict";var o={},c=n(document);n.fn.cxExists=function(){return this.length>0},o.removeCouponAjax=function(){var o={action:"rtcl_remove_coupons",__rtcl_wpnonce:rtcl_coupon.__rtcl_wpnonce};jQuery.ajax({type:"POST",url:rtcl_coupon.ajaxurl,data:o,beforeSend:function(){},success:function(o){n("#cart-collaterals").html(o.data.content)},error:function(){},complete:function(){}})},o.removeCoupon=function(){n("#rtcl-checkout-form").find("input[name='pricing_id']").on("change",(function(){o.removeCouponAjax()})),n("#rtcl-checkout-form").on("click",".rtcl-remove-coupon",(function(n){n.preventDefault(),o.removeCouponAjax()}))},o.applyCoupon=function(){var o=n("#rtcl_apply_coupon"),c=n("#rtcl-checkout-form").find("input[name='pricing_id']:checked").val();c||n("#rtcl-checkout-form").find("input[name='pricing_id']").on("change",(function(){(c=n(this).val())&&o.prop("disabled",!1)})),n("#rtcl_apply_coupon").on("click",(function(o){o.preventDefault();var e=n(this);if(c=n("#rtcl-checkout-form").find("input[name='pricing_id']:checked").val()){var t=n("#coupon_key").val(),r={action:"rtcl_apply_coupon",pricing_id:c,coupon_code:t,__rtcl_wpnonce:rtcl_coupon.__rtcl_wpnonce};console.log(r),jQuery.ajax({type:"POST",url:rtcl_coupon.ajaxurl,data:r,beforeSend:function(){e.addClass("before-send")},success:function(o){n("#cart-collaterals").html(o.data.content)},error:function(){alert("Error Loading Data...")},complete:function(){e.removeClass("before-send")}})}}))},c.ready((function(){o.applyCoupon(),o.removeCoupon()}))}(jQuery);