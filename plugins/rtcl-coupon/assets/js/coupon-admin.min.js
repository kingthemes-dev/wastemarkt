!function(t){"use strict";var e={},n=t(window),o=t(document);t.fn.cxExists=function(){return this.length>0},e.openTabContent=function(t,e){var n,o=document.getElementsByClassName("tabcontent");for(n=0;n<o.length;n++)o[n].style.display="none";var c=document.getElementsByClassName("tablinks");for(n=0;n<c.length;n++)c[n].className=c[n].className.replace(" active","");document.getElementById(e).style.display="block",t.currentTarget.className+=" active"},e.generateCoupon=function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o=0;o<t;o++)e+=n.charAt(Math.floor(Math.random()*n.length));return e},e.navTab=function(){t(".rtcl-coupon-metabox-wrapper").on("click",".tablinks",(function(n){n.preventDefault();var o=t(this).attr("data-contentid");e.openTabContent(n,o)}))},e.createCoupon=function(){t(".post-type-rtcl_coupon").find("#title").after('<a href="#" class="button generate-coupon-code"> '.concat(rtcl_coupon.generate_button_text,"  </a>")),t(".post-type-rtcl_coupon").on("click",".button.generate-coupon-code",(function(n){n.preventDefault();var o=t("#title"),c=e.generateCoupon(8);o.trigger("focus").val(c),t("#title-prompt-text").addClass("screen-reader-text")}))},e.datepicker=function(){t(".date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,minDate:0,showButtonPanel:!0})},e.tulTip=function(){t(".rtcl-help-tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200})},e.selectTwoPricing=function(){return t("#depend_on_type").find(".coupon-select2").select2()},e.pricingByType=function(){t(".pricing-type").on("change",(function(n){var o={action:"rtcl_pricing_type_query",pricing_type:n.target.value,coupon_meta:n.target.getAttribute("coupon-meta"),__rtcl_wpnonce:rtcl_coupon.__rtcl_wpnonce};t.ajax({url:rtcl_coupon.ajaxurl,data:o,type:"POST",success:function(n){t("#depend_on_type").html(n.data.content),n.success?(e.selectTwoPricing().select2("destroy"),e.selectTwoPricing(),e.tulTip()):e.selectTwoPricing().select2("destroy")}})}))},n.on("load",(function(){})),o.on("ready",(function(){e.navTab(),e.createCoupon(),e.datepicker(),e.tulTip(),e.selectTwoPricing(),e.pricingByType()})),n.on("load resize",(function(){}))}(jQuery);