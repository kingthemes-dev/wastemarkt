!function(t){window.rtToast=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",o=document.createElement("div");o.className="rt-toast toast-"+a,o.textContent=t,document.body.appendChild(o),setTimeout((function(){o.classList.add("toast-show")}),10),setTimeout((function(){o.classList.remove("toast-show"),setTimeout((function(){document.body.removeChild(o)}),300)}),3e3)},t(document).ready((function(){t(".rtclModaPopup").each((function(){var a=t(this),o=t(".close",a);a.on("click",(function(t){t.target.closest(".modalInner")||a.removeClass("open")})),o.on("click",(function(){a.removeClass("open")}))})),t(".rtcl-application-title").on("click",(function(a){a.preventDefault();var o=t(this),e=o.data("id"),n=o.data("info"),s=t(".rtclModaPopup"),c=t(".modal-body",s);s.addClass("open"),t.ajax({url:rtclJobManager.ajaxurl,type:"POST",data:{action:"load_application_info",appId:e,info:n},beforeSend:function(){s.addClass("loading"),c.html("<span class='spinner'></span>")},success:function(t){s.removeClass("loading"),c.html(t)},error:function(t){console.log(t),s.removeClass("loading"),c.html("Something is wrong...")}})})),t("body").on("change",'select[name="rtcl-job-status"]',(function(a){var o=t(this).val(),e=t(this).prev().html();if(!o)return!1;var n=t(this).data("application-id");t.ajax({url:rtclJobManager.ajaxurl,type:"POST",data:{action:"update_job_status",status:o,applicationId:n},success:function(a){if(a.success){rtToast("Status updated successfully!");var o={value:a.data.value,prevVal:e,id:n};t(document).trigger("rtcl_job_status_change",o)}else alert("Error updating status.")}})})),t(document).on("rtcl_job_status_change",(function(a,o){var e=o.id,n=o.value,s=o.prevVal;t('.rtclJobStatusLabel[data-id="'+e+'"]').removeClass(s).addClass(n).html(n)}))}))}(jQuery);
